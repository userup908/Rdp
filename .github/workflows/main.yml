name: PakistaniRDP
on:
  workflow_dispatch:
  schedule:
    - cron: '0 */8 * * *'  # Auto restart every 8 hours

jobs:
  build:
    name: Pakistani RDP Server
    runs-on: windows-latest
    timeout-minutes: 480  # Extended to 8 hours
    
    steps:
      - name: Downloading & Installing Essentials
        run: |
          Invoke-WebRequest -Uri "https://gitlab.com/userup908/my-rdp/-/raw/main/Downloads.bat" -OutFile "Downloads.bat"
          cmd /c Downloads.bat
          
      - name: Setup System User
        run: |
          net user runneradmin TheDisa1a
          Write-Host "âœ… System user configured" -ForegroundColor Green
          
      - name: Show Connection Info
        run: |
          Write-Host "
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘        AVICA RDP CONNECTION          â•‘  
          â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          
          ğŸ“± WhatsApp: +923460257488
          ğŸ‘¨â€ğŸ’» Created by USMAN PASHA AKA H4K3R
          
          ğŸ”¥ AVICA CONNECTION:
          â€¢ GoFile link will appear below with Avica ID
          â€¢ Link changes every time - check carefully!
          â€¢ Go to GoFile link to get connection details
          
          âš¡ Instructions:
          â€¢ Wait for GoFile link in console output
          â€¢ Open the link to get Avica Remote ID
          â€¢ Download Avica app and enter the ID
          â€¢ Connect instantly!
          " -ForegroundColor Cyan
          
      - name: Start Avica Service
        run: cmd /c show.bat
        
      - name: Keep Session Active
        run: |
          Write-Host "ğŸš€ Avica is starting... Look for GoFile link with connection details!" -ForegroundColor Yellow
          Write-Host "ğŸ“‚ GoFile link will contain Avica Remote ID - Link changes every time!" -ForegroundColor Red
          cmd /c loop.bat
